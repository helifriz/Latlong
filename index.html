<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lat/Long Converter</title>
<style>
body { font-family: Arial, sans-serif; margin: 2em; }
.dms-input input { width: 4em; padding: 0.5em; margin-right: 0.3em; }
button { padding: 0.5em 1em; margin-top: 1em; }
#result { margin-top: 1em; font-weight: bold; }
</style>
</head>
<body>
<h1>Convert DMS to Decimal Degrees</h1>
<div class="dms-input">
    <label>Latitude (N):
        <input id="latDeg" type="text" inputmode="numeric" maxlength="2" placeholder="Deg" value="53" data-next="latMin" />
        <input id="latMin" type="text" inputmode="numeric" maxlength="2" placeholder="Min" value="53" data-next="latSec" />
        <input id="latSec" type="text" inputmode="numeric" maxlength="2" placeholder="Sec" value="5" data-next="lonDeg" />
    </label>
</div>
<div class="dms-input">
    <label>Longitude (W):
        <input id="lonDeg" type="text" inputmode="numeric" maxlength="3" placeholder="Deg" value="122" data-next="lonMin" />
        <input id="lonMin" type="text" inputmode="numeric" maxlength="2" placeholder="Min" value="40" data-next="lonSec" />
        <input id="lonSec" type="text" inputmode="numeric" maxlength="2" placeholder="Sec" value="65" />
    </label>
</div>
<button onclick="convert()">Convert</button>
<button onclick="openMap()">Open in Google Maps</button>
<div id="result"></div>

<script>
let lastLat, lastLon;
// Automatically focus the next field once the maximum length is reached
document.querySelectorAll('.dms-input input').forEach(inp => {
    inp.addEventListener('input', e => {
        const max = e.target.getAttribute('maxlength');
        if (max && e.target.value.length >= max) {
            const next = e.target.dataset.next;
            if (next) {
                document.getElementById(next).focus();
            }
        }
    });
});

function convert() {
    const latDeg = parseFloat(document.getElementById('latDeg').value) || 0;
    const latMin = parseFloat(document.getElementById('latMin').value) || 0;
    const latSec = parseFloat(document.getElementById('latSec').value) || 0;
    const lonDeg = parseFloat(document.getElementById('lonDeg').value) || 0;
    const lonMin = parseFloat(document.getElementById('lonMin').value) || 0;
    const lonSec = parseFloat(document.getElementById('lonSec').value) || 0;

    const lat = latDeg + latMin / 60 + latSec / 3600;
    const lon = -(lonDeg + lonMin / 60 + lonSec / 3600);

    lastLat = lat;
    lastLon = lon;

    document.getElementById('result').textContent = `Decimal: ${lat.toFixed(4)}, ${lon.toFixed(4)}`;
}

function openMap() {
    if (typeof lastLat !== 'undefined' && typeof lastLon !== 'undefined') {
        const url = `https://www.google.com/maps?q=${lastLat},${lastLon}`;
        window.open(url, '_blank');
    }
}

convert();
</script>
</body>
</html>
