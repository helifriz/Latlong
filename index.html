<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lat/Long Converter</title>
<style>
body { font-family: Arial, sans-serif; margin: 2em; }
input[type=text] { width: 100%; padding: 0.5em; }
button { padding: 0.5em 1em; margin-top: 1em; }
#result { margin-top: 1em; font-weight: bold; }
</style>
</head>
<body>
<h1>Convert DMS to Decimal Degrees</h1>
<p>Enter coordinates like <code>N53째53.05' / W122째40.65'</code></p>
<input id="input" type="text" value="N53째53.05' / W122째40.65'" />
<button onclick="convert()">Convert</button>
<div id="result"></div>

<script>
function convert() {
    const val = document.getElementById('input').value;
    const regex = /([NS])(\d+)\D+(\d+\.?\d*)\D*([EW])(\d+)\D+(\d+\.?\d*)/i;
    const match = val.match(regex);
    if (!match) {
        document.getElementById('result').textContent = 'Invalid format';
        return;
    }

    function parseCoord(hem, degStr, minStr) {
        const deg = parseFloat(degStr);
        let minutes = 0;
        let seconds = 0;
        if (minStr.includes('.')) {
            const parts = minStr.split('.');
            minutes = parseInt(parts[0], 10);
            const sec = parseFloat(parts[1]);
            if (!isNaN(sec) && sec < 60) {
                seconds = sec;
            } else {
                minutes = parseFloat(minStr);
            }
        } else {
            minutes = parseInt(minStr, 10);
        }

        let dec = deg + minutes / 60 + seconds / 3600;
        if (hem.toUpperCase() === 'S' || hem.toUpperCase() === 'W') {
            dec = -dec;
        }
        return dec;
    }

    const lat = parseCoord(match[1], match[2], match[3]);
    const lon = parseCoord(match[4], match[5], match[6]);
    document.getElementById('result').textContent = `Decimal: ${lat.toFixed(4)}, ${lon.toFixed(4)}`;
}

convert();
</script>
</body>
</html>
